# Get the issues from a repository and get a timeline 
# of labeling events.
{
  repository(owner: "jxmot", name: "labelmgr-test") {
    id
    # searching open issues
    issues(first: 100, states: OPEN) {
      totalCount
      edges {
        # issues
        node {
          title
          url
          number
          createdAt
          timelineItems(last: 100, itemTypes: [LABELED_EVENT,UNLABELED_EVENT]) {
            totalCount
            # label operations made to this issue
            edges {
              node {
                # this is necessary to identify which event was found
                __typename
                ... on LabeledEvent {
                  createdAt
                  label {
                    name
                  }
                }
                ... on UnlabeledEvent {
                  createdAt
                  label {
                    name
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}

# The following is POST-ready, it can be used as the body
# in a POST operation. This can be used with Postman.
# {
#   "query": "# Get the issues from a repository and get a timeline \n# of labeling events.\n{\n  repository(owner: \"jxmot\", name: \"labelmgr-test\") {\n    id\n    # searching open issues\n    issues(first: 100, states: OPEN) {\n      totalCount\n      edges {\n        # issues\n        node {\n          title\n          url\n          number\n          createdAt\n          timelineItems(last: 100, itemTypes: [LABELED_EVENT,UNLABELED_EVENT]) {\n            totalCount\n            # label operations made to this issue\n            edges {\n              node {\n                # this is necessary to identify which event was found\n                __typename\n                ... on LabeledEvent {\n                  createdAt\n                  label {\n                    name\n                  }\n                }\n                ... on UnlabeledEvent {\n                  createdAt\n                  label {\n                    name\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n"
# }