# Get the labels from a repository and gets a count 
# of pull requests and issues for each label.
#
{
  repository(owner: "jxmot", name: "labelmgr-test") {
    id
    isPrivate
    labels(first:100, orderBy:{field:NAME, direction:ASC}) {
      # total quantity of labels in this repository
      totalCount
      # get all of the labels, and show some useful info
      nodes {
        name
        id
        color
        description
        # the quantity of issues using this label
        issues(first:1) {
          totalCount
        }
        # the quantity of pull requests using this label
        pullRequests(first:1) {
          totalCount
        }
      }
    }
  }
}

# The following is POST-ready, it can be used as the body
# in a POST operation. This can be used with Postman.
# {
#   "query": "{\n  repository(owner: \"jxmot\", name: \"labelmgr-test\") {\n    id\n    isPrivate\n    labels(first: 100, orderBy: {field: NAME, direction: ASC}) {\n      totalCount\n      nodes {\n        name\n        id\n        color\n        description\n        issues(first: 1) {\n          totalCount\n        }\n        pullRequests(first: 1) {\n          totalCount\n        }\n      }\n    }\n  }\n}\n"
# }
